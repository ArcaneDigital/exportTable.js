var exportTable={init:function(t){var t=t||{};t.format=t.format||"csv",t.filename=t.filename||"export.csv";var e=this.castNodeList(document.querySelectorAll(t.initiator));e.forEach(this.bindEvent.bind(this)),exportTable.options=t},castNodeList:function(t){return[].slice.call(t)},bindEvent:function(t){t.addEventListener("click",this["export"],!1)},data:function(t){var e="",a=document.querySelector(t),n=a.getElementsByTagName("thead");if(n.length){for(var r=n[0].children,i=r[0].children,o=0;o<i.length;o++)e+='"'+i[o].textContent+'",';e+="\n"}for(var l=a.getElementsByTagName("tbody")[0],c=l.children,o=0;o<c.length;o++){for(var s=c[o].children,d=0;d<s.length;d++)e+='"'+s[d].textContent+'",';e+="\n"}return e},"export":function(){data=exportTable.data(this.getAttribute("data-export")),csvData="data:application/csv;charset=utf-8,"+encodeURIComponent(data),this.setAttribute("download",exportTable.options.filename),this.setAttribute("target","_blank"),this.setAttribute("href",csvData)}};window.exportTable=exportTable;