var exportTable={init:function(t){var t=t||{};t.format=t.format||"csv",t.filename=t.filename||"export.csv";var e=this.castNodeList(document.querySelectorAll(t.initiator));e.forEach(this.bindEvent.bind(this)),exportTable.options=t},castNodeList:function(t){return[].slice.call(t)},bindEvent:function(t){t.addEventListener("click",this["export"],!1)},data:function(t){for(var e=document.querySelector(t),a=e.getElementsByTagName("tbody")[0],n=a.children,i="",o=0;o<n.length;o++){for(var r=n[o].children,c=0;c<r.length;c++)i+='"'+r[c].textContent+'",';i+="\n"}return i},"export":function(){data=exportTable.data(this.getAttribute("data-export")),csvData="data:application/csv;charset=utf-8,"+encodeURIComponent(data),this.setAttribute("download",exportTable.options.filename),this.setAttribute("target","_blank"),this.setAttribute("href",csvData)}};window.exportTable=exportTable;